@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

/* collapsed */
#sidebar-box {
  position: fixed !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 44px !important;
  z-index: 10000 !important;
  background: -moz-Dialog !important;
  border-right: none !important;
  overflow: hidden !important;
  transition: width 150ms ease !important;
}

/* expand on hover */
#sidebar-box:hover {
  width: 220px !important;
  /* expanded width */
}

/* hide splitter */
#sidebar-splitter {
  display: none !important;
}

/* when sidebar expands, shift content */
#sidebar-box:not(:hover) ~ .browserStack,
#sidebar-box:not(:hover) ~ .browserContainer,
#sidebar-box:not(:hover) ~ #tabbrowser-tabs,
#sidebar-box:not(:hover) ~ #content {
  margin-left: 44px !important;
  transition: margin-left 150ms ease !important;
}

#sidebar-box:hover ~ .browserStack,
#sidebar-box:hover ~ .browserContainer,
#sidebar-box:hover ~ #tabbrowser-tabs,
#sidebar-box:hover ~ #content {
  margin-left: 220px !important;
}

/* keep header hidden when collapsed, visible when expanded */
#sidebar-header {
  display: none !important;
}

#sidebar-box:hover #sidebar-header {
  display: flex !important;
}

/* keep icons visible always */
#sidebar .treechildren::-moz-tree-image {
  width: 20px !important;
  height: 20px !important;
  margin-inline-start: 12px !important;
}

/* show tree text only on expanded state */
#sidebar-box:not(:hover) .treechildren::-moz-tree-cell-text {
  display: none !important;
}

#sidebar-box:hover .treechildren::-moz-tree-cell-text {
  display: -moz-inline-stack !important;
}

/* compact icon layout */
#sidebar .treechildren::-moz-tree-row {
  min-height: 28px !important;
  padding: 2px 0 !important;
}

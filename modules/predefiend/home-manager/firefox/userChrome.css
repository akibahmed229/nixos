/* === LEFT MINIMAL SIDEBAR â€” persistent (icons-only) === */
/* CTRL + SHIFT + ALT + I - to open devtools */

/* collapsed */
#sidebar-box {
  position: fixed !important;
  left: 0 !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 250px !important;
  z-index: 10000 !important;
  background: -moz-Dialog !important;
  border-right: none !important;
  overflow: hidden !important;
  transition: width 150ms ease !important;
}

/* Hide the sidebar switcher (star/book/history/tabs icons) and close button */
#sidebar-switcher-target,
#sidebar-close {
  display: none !important;
}

/* Remove border + shadow around sidebar panels (Customize, History, Bookmarks, etc.) */
#sidebar-box,
#sidebar,
.sidebar-panel,
.sidebar-panel::part(content) {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  background: -moz-Dialog !important;
}

/* Also kill hover highlight on sidebar panel */
.sidebar-panel:hover,
#sidebar:hover {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* hide splitter */
#sidebar-splitter {
  display: none !important;
}

/* when sidebar expands, shift content */
#sidebar-box:not(:hover) ~ .browserStack,
#sidebar-box:not(:hover) ~ .browserContainer,
#sidebar-box:not(:hover) ~ #tabbrowser-tabs,
#sidebar-box:not(:hover) ~ #content {
  margin-left: 44px !important;
  transition: margin-left 150ms ease !important;
}

#sidebar-box:hover ~ .browserStack,
#sidebar-box:hover ~ .browserContainer,
#sidebar-box:hover ~ #tabbrowser-tabs,
#sidebar-box:hover ~ #content {
  margin-left: 220px !important;
}

/* keep header hidden when collapsed, visible when expanded */
#sidebar-header {
  display: none !important;
}

#sidebar-box:hover #sidebar-header {
  display: none !important;
}

/* keep icons visible always */
#sidebar .treechildren::-moz-tree-image {
  width: 20px !important;
  height: 20px !important;
  margin-inline-start: 12px !important;
}

.tab-throbber,
.tab-icon-pending,
.tab-icon-image,
.tab-sharing-icon-overlay,
.tab-icon-overlay {
  height: 18px;
  width: 18px;
}

/* show tree text only on expanded state */
#sidebar-box:not(:hover) .treechildren::-moz-tree-cell-text {
  display: none !important;
}

#sidebar-box:hover .treechildren::-moz-tree-cell-text {
  display: -moz-inline-stack !important;
}

/* compact icon layout */
#sidebar .treechildren::-moz-tree-row {
  min-height: 28px !important;
  padding: 2px 0 !important;
}
